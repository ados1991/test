{
  "processors": [
    {
      "set": {
        "if": "ctx.path != null && /^(A[P]?[0-9]{3,10}\\/$)/.matcher(ctx.path).matches()",
        "field": "prouv",
        "value": "{{path}}"
      }
    },
    {
      "gsub": {
        "if": "ctx.prouv != null",
        "field": "prouv",
        "pattern": "\\/$",
        "replacement": ""
      }
    },
    {
      "lowercase": {
        "if": "ctx.prouv != null",
        "field": "prouv"
      }
    }
  ]
}
